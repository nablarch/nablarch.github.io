


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv='content-language' content='ja'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Initial Setup of Nablarch batch Project for Container &mdash; ∇Nablarch  5u26 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  

  
  
  <link rel="canonical" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/blank_project/setup_containerBlankProject/setup_ContainerBatch.html" />
  
    <link rel="top" title="∇Nablarch  5u26 documentation" href="../../../../index.html"/>
        <link rel="up" title="Initial Setup Procedure(container)" href="../FirstStepContainer.html"/>
        <link rel="next" title="Initial Setup of Nablarch batch Project for Container without DB connection" href="setup_ContainerBatch_Dbless.html"/>
        <link rel="prev" title="Initial Setup of RESTful Web Service Project for Container" href="setup_ContainerWebService.html"/>

<script defer data-domain="nablarch.github.io,all.fintan" src=https://plausible.io/js/script.js></script>


  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  
  <a href="../../../../index.html" id="sidebar-title" class="icon"> ∇Nablarch 
  

  
    <div id="sidebar-version">Version: 5u26</div>
  </a>

  <div role="search">
    <form id="google-search-form" class="wy-form" method="get" action="https://www.google.co.jp/search">
      <input type="text" name="text" placeholder="Search docs on google" id="text"/>
      <input type="hidden" name="q" id="q"/>
    </form>
  </div>
    
    

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_nablarch/index.html">What is the Nablarch?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/concept.html">Nablarch Concept</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#robustness">Robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#testability">Testability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#ready-to-use">Ready-to-Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/mvn_module.html">Module List of Nablarch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/license.html">Information on Nablarch License</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Nablarch Application Framework</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Application Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../nablarch/index.html">What is Nablarch Application Framework?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../web/index.html">Web Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../web_service/index.html">Web Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../batch/index.html">Batch Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../messaging/index.html">Messaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../handlers/index.html">Standard Handler Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../libraries/index.html">Libraries Provided by Nablarch</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">Blank Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setting_guide/index.html">Nablarch Application Framework Configuration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/index.html">Default Configuration List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cloud_native/index.html">Nablarch Cloud Native Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../adaptors/index.html">Adaptor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/log_adaptor.html">log Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/router_adaptor.html">Routing Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/webspheremq_adaptor.html">IBM MQ Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/jaxrs_adaptor.html">JAX-RS Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/doma_adaptor.html">Doma Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/jsr310_adaptor.html">JSR310(Date and Time API)Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_freemarker_adaptor.html">E-mail FreeMarker Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_thymeleaf_adaptor.html">E-mail Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_velocity_adaptor.html">E-mail Velocity Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/web_thymeleaf_adaptor.html">Web Application Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/lettuce_adaptor.html">Lettuce Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/slf4j_adaptor.html">SLF4J Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/micrometer_adaptor.html">Micrometer Adapter</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../extension_components/index.html">Nablarch extension component</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/report/index.html">Form library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/workflow/doc/index.html">Workflow library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/workflow/tool/index.html">Workflow definition data generation tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/etl/index.html">ETL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../extension_components/etl/etl_maven_plugin.html">ETL Maven plugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../development_tools/index.html">Nablarch development tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html">Efficient Java Static Checks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#run-inspection">Run inspection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#unify-the-format">Unify the format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#check-if-unauthorized-apis-are-being-used">Check if unauthorized APIs are being used</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/ui_dev/index.html">Front-end UI development platform for advanced users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/testing_framework/index.html">Testing framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/05_UnitTestGuide/index.html">How to Execute Unit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/06_TestFWGuide/index.html">How to Use the Automated Test Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/08_TestTools/index.html">Tools Used in the Programming Phase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/toolbox/index.html">Useful Tools When Developing Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/JspStaticAnalysis/index.html">JSP Static Analysis Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/SqlExecutor/SqlExecutor.html">Nablarch SQL Executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/JspVerifier/JspVerifier.html">Job Screen JSP Validation Tool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../examples/index.html">Example</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/index.html#how-to-run-example">How to Run Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/index.html#procedure-to-build-the-environment">Procedure to build the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/index.html#procedure-to-execute">Procedure to execute</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/index.html#running-on-java-11-or-higher">Running on Java 11 or higher</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../examples/index.html#list-of-example">List of Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/index.html#web-application">Web application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/index.html#web-service">Web Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/index.html#batch-application">Batch Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../examples/index.html#messaging">Messaging</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../biz_samples/index.html">Implementation Examples Per Use Cases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/01/index.html">Sample Password Encryption Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/01/0101_PBKDF2PasswordEncryptor.html">Sample Password Encryption Function Using PBKDF2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/01/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/01/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/01/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/01/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/03/index.html">Display a List of Search Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#universaldao-class">UniversalDao class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#listsearchinfo-class">ListSearchInfo class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#pagination-class">Pagination class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#entitylist-class">EntityList class</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#listsearchresult-tag">listSearchResult tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#how-to-import-a-sample-implementation-tag-file-into-the-business-application">How to import a sample implementation (tag file) into the business application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/03/index.html#tag-reference">Tag Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/04/index.html">Extended Formatter Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/04/0401_ExtendedDataFormatter.html">Data Formatter Expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/04/0402_ExtendedFieldType.html">Field Type Expansion in the Data Formatter Function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/05/index.html">Sample File Management Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/05/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/05/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/05/index.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/05/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/05/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/08/index.html">Sample of HTML Email Send Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/08/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/08/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/08/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/08/index.html#implementation-examples">Implementation examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/09/index.html">How to Use a Sample to Send a Digitally Signed Email Using Bouncycastle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/09/index.html#environment-preparation">Environment preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/09/index.html#structure-of-digitally-signed-email-send-function">Structure of digitally signed email send function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/09/index.html#preparation-of-configuration-file">Preparation of configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/09/index.html#execution">Execution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/10/index.html">How to Use the Log Aggregation Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/10/index.html#list-of-samples-provided">List of samples provided</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/11/index.html">Messaging Platform Test Simulator Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/11/index.html#uses">Uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/11/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/11/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/11/index.html#how-to-use">How to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/11/index.html#expansion-example">Expansion example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/12/index.html">Authentication sample using OIDC ID token</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/12/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/12/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/12/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/12/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../biz_samples/13/index.html">Sample Request/Response Log Output Using Logbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/13/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/13/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../biz_samples/13/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../external_contents/index.html">Useful content for development in Nablarch</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../external_contents/index.html#nablarch-system-development-guide">Nablarch System Development Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../external_contents/index.html#development-standards">Development Standards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nablarch_api/index.html">Nablarch API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html">Nablarch upgrade policy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#release-unit">Release unit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#types-of-upgrades">Types of upgrades</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#version-numbering-system">Version numbering system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#backward-compatibility-policy">Backward compatibility policy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#extent-to-which-backward-compatibility-is-maintained">Extent to which backward compatibility is maintained</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#contents-of-backward-compatibility-maintenance">Contents of backward compatibility maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#backward-compatibility-exception">Backward compatibility exception</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../terms_of_use/index.html">Terms of Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../terms_of_use/index.html#external-transmssion-of-information">External Transmssion of Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../terms_of_use/index.html#purpose-of-information-use">Purpose of Information Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../terms_of_use/index.html#destination-of-information">Destination of information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../terms_of_use/index.html#type-and-use-of-information">Type and use of information</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">∇Nablarch </a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Nablarch Application Framework</a> &raquo;</li>
      
          <li><a href="../../index.html">Application Framework</a> &raquo;</li>
      
          <li><a href="../index.html">Blank Project</a> &raquo;</li>
      
          <li><a href="../FirstStepContainer.html">Initial Setup Procedure(container)</a> &raquo;</li>
      
    <li>Initial Setup of Nablarch batch Project for Container</li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://github.com/nablarch" class="fa fa-github">GitHub</a>
    </li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://nablarch.github.io/docs/5-LATEST/doc/index.html" class="ja">日本語</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="initial-setup-of-nablarch-batch-project-for-container">
<h1>Initial Setup of Nablarch batch Project for Container<a class="headerlink" href="#initial-setup-of-nablarch-batch-project-for-container" title="Permalink to this headline">¶</a></h1>
<p>The following is procedures of initial setup of the Nablarch batch project for container:</p>
<ul class="simple">
<li>Generating Nablarch batch project for container</li>
<li>Confirm communications of Nablarch batch project</li>
<li>Create a container image</li>
<li>Run Container Image</li>
</ul>
<div class="section" id="overview-of-the-generated-project">
<h2>Overview of the generated project<a class="headerlink" href="#overview-of-the-generated-project" title="Permalink to this headline">¶</a></h2>
<p>The overview of the project generated by this procedure is as follows.</p>
<table border="1" class="colwidths-given white-space-normal docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Item</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Project type</td>
<td>Maven project</td>
</tr>
<tr class="row-odd"><td>Project composition</td>
<td>Single project composition</td>
</tr>
<tr class="row-even"><td>DB used</td>
<td>H2 Database Engine (embedded in the application)</td>
</tr>
<tr class="row-odd"><td>What is included in the generated project?</td>
<td><p class="first">The following is included in the generated project:</p>
<ul class="last simple">
<li>Basic configuration for the Nablarch batch application</li>
<li>On-demand batch application for communication confirmation</li>
<li>Messaging using tables as queues for communication confirmation</li>
<li>Email send batch configuration <a class="footnote-reference" href="#mailsendbatch" id="id1">[1]</a></li>
<li>Initial configuration of the tool that operates in conjunction with Maven (is imported by referring to <a class="reference internal" href="../MavenModuleStructures/index.html#about-maven-parent-module"><span>nablarch-archetype-parent (parent project)</span></a>).</li>
</ul>
</td>
</tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="mailsendbatch" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>Email send batch functions as a <a class="reference internal" href="../../batch/nablarch_batch/architecture.html#nablarch-batch-resident-batch"><span>resident batch</span></a> and sends mail to the SMTP server.
Sample component configuration file is present in <code class="docutils literal"><span class="pre">src/main/resources/mail-sender-boot.xml</span></code>.
Email send batch is not necessary when building the initial environment, but when it becomes necessary, use after reading the description of <a class="reference internal" href="../../libraries/mail.html#mail"><span>send email</span></a>.</td></tr>
</tbody>
</table>
<p>For relationship with other projects and directories, see <a class="reference internal" href="../MavenModuleStructures/index.html"><em>Maven Archetype Configuration</em></a>.</p>
</div>
<div class="section" id="create-blank-project">
<span id="firststepgeneratecontainerbatchblankproject"></span><h2>Create blank project<a class="headerlink" href="#create-blank-project" title="Permalink to this headline">¶</a></h2>
<p>Generate a blank project using the archetypes provided by Nablarch.</p>
<div class="section" id="execute-the-mvn-command">
<h3>Execute the mvn command<a class="headerlink" href="#execute-the-mvn-command" title="Permalink to this headline">¶</a></h3>
<p>Use <a class="reference external" href="https://maven.apache.org/archetype/maven-archetype-plugin/usage.html">Maven Archetype Plugin(external site)</a> to generate a blank project.</p>
<p>Change the current directory to the directory where the blank project (can be any directory) is to be created.</p>
<p>Execute the following command.</p>
<div class="highlight-bat"><div class="highlight"><pre><span></span>mvn archetype:generate -DarchetypeGroupId=com.nablarch.archetype -DarchetypeArtifactId=nablarch-container-batch-archetype -DarchetypeVersion=5u26
</pre></div>
</div>
<p>The version of Nablarch used in the above command is 5u26. If you want to change the version, change the following parameters.</p>
<table border="1" class="colwidths-given white-space-normal docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Set value</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>archetypeVersion</td>
<td>Specify the version of the archetype you wish to use. (Nablarch 5u25 or later must be specified)</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>If you want to generate blank projects with Nablarch 5u24 or earlier, change <code class="docutils literal"><span class="pre">archetype:generate</span></code> to <code class="docutils literal"><span class="pre">org.apache.maven.plugins:maven-archetype-plugin:2.4:generate</span></code> in the above command and execute as in the following example.</p>
<div class="highlight-bat"><div class="highlight"><pre><span></span>mvn org.apache.maven.plugins:maven-archetype-plugin:2.4:generate -DarchetypeGroupId=com.nablarch.archetype -DarchetypeArtifactId=nablarch-container-batch-archetype -DarchetypeVersion=5u24
</pre></div>
</div>
<p class="last">The version of Nablarch used in this example is 5u24. If you want to change the version, change the parameter archetypeVersion in the same way.</p>
</div>
</div>
<div class="section" id="enter-project-information">
<h3>Enter project information<a class="headerlink" href="#enter-project-information" title="Permalink to this headline">¶</a></h3>
<p>When the above command is executed, you will be asked to enter the following information about the blank project to be generated.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="58%" />
<col width="29%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Input item</th>
<th class="head">Description</th>
<th class="head">Configuration example</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>groupId</td>
<td>Group ID (normally, enter the package name)</td>
<td><code class="docutils literal"><span class="pre">com.example</span></code></td>
</tr>
<tr class="row-odd"><td>artifactId</td>
<td>Artifact ID</td>
<td><code class="docutils literal"><span class="pre">myapp-container-batch</span></code></td>
</tr>
<tr class="row-even"><td>version</td>
<td>Version number</td>
<td><code class="docutils literal"><span class="pre">0.1.0</span></code></td>
</tr>
<tr class="row-odd"><td>package</td>
<td>Package (normally the same as group ID)</td>
<td><code class="docutils literal"><span class="pre">com.example</span></code></td>
</tr>
</tbody>
</table>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Item groupId and package are mapped to the Java package name.
Use lowercase letters, numbers, and dots for these input values, and do not use hyphens.</p>
</div>
<p>When you have finished entering project information, Y: : will appear.</p>
<blockquote>
<div><ul class="simple">
<li>Enter 「Y」 if you want to generate a template based on the information you have entered.</li>
<li>Enter 「N」 if you wish to redo the project information entry.</li>
</ul>
</div></blockquote>
<p>If the command ends normally, a blank project is created under the current directory.</p>
</div>
</div>
<div class="section" id="communication-confirmation">
<span id="firststepcontainerbatchstartuptest"></span><h2>Communication confirmation<a class="headerlink" href="#communication-confirmation" title="Permalink to this headline">¶</a></h2>
<p>The communication confirmation mechanism and procedures are the same as for a normal Nablarch batch project. Thus, see <a class="reference internal" href="../setup_blankProject/setup_NablarchBatch.html#firststepbatchstartuptest"><span>Initial Setup of the Nablarch Batch Project</span></a>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The artifact ID should be replaced with <code class="docutils literal"><span class="pre">myapp-container-batch</span></code> to specify the directory and command.</p>
</div>
</div>
<div class="section" id="create-a-container-image">
<span id="firststepbuildcontainerbatchdockerimage"></span><h2>Create a container image<a class="headerlink" href="#create-a-container-image" title="Permalink to this headline">¶</a></h2>
<p>The blank project has a plugin named <a class="reference external" href="https://github.com/GoogleContainerTools/jib/tree/master/jib-maven-plugin">Jib</a> (External sites) built in to create an image of a Docker container.</p>
<p>The <code class="docutils literal"><span class="pre">jib:</span> <span class="pre">dockerBuild</span></code> goal of this plugin can be executed to create a container image.</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>cd myapp-container-batch
mvn compile jib:dockerBuild
</pre></div>
</div>
<p>If the execution is successful, the log given below will be output to the console.</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>(omission)
[INFO] Built image to Docker daemon as myapp-container-batch, myapp-container-batch, myapp-container-batch:0.1.0
[INFO] Executing tasks:
[INFO] [==============================] 100.0% complete
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
(Omitted)
</pre></div>
</div>
<p>Built Docker images are stored in a local repository.
Can see the images stored in the local repository with the following command.</p>
<div class="highlight-text"><div class="highlight"><pre><span></span>docker image ls
REPOSITORY              TAG         IMAGE ID       CREATED        SIZE
myapp-container-batch   0.1.0       1cafd4108237   51 years ago   253MB
myapp-container-batch   latest      1cafd4108237   51 years ago   253MB
</pre></div>
</div>
<p>Can see that there are 2 images registered: <code class="docutils literal"><span class="pre">myapp-container-batch:0.1.0</span></code> and <code class="docutils literal"><span class="pre">myapp-container-batch:latest</span></code> .</p>
<p>As you can see, the blank project is configured to create the following two images by executing <code class="docutils literal"><span class="pre">jib:dockerBuild</span></code>.</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">${project.artifactId}:latest</span></code></li>
<li><code class="docutils literal"><span class="pre">${project.artifactId}:${project.version}</span></code></li>
</ul>
<p><a class="reference external" href="https://hub.docker.com/_/adoptopenjdk">OpenJDK image</a> (External sites) is used as base image by default.</p>
<p>The base image can be changed with the <code class="docutils literal"><span class="pre">jib.from.image</span></code> property.
For example, if you want to use <code class="docutils literal"><span class="pre">adoptopenjdk:11.0.11_9-jre-hotspot</span></code> for your base image, you would write it in <code class="docutils literal"><span class="pre">pom.xml</span></code> .</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;project&gt;</span>
  <span class="cp">&lt;! -- Omitted ...--&gt;</span>
  <span class="nt">&lt;properties&gt;</span>
    <span class="cp">&lt;! -- Omitted ...--&gt;</span>
    <span class="nt">&lt;jib.from.image&gt;</span>adoptopenjdk:11.0.11_9-jre-hotspot<span class="nt">&lt;/jib.from.image&gt;</span>
  <span class="nt">&lt;/properties&gt;</span>
  <span class="cp">&lt;! -- Omitted ...--&gt;</span>
<span class="nt">&lt;/project&gt;</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>In the blank project, the base image is specified with a Docker image tag. In this case, the latest version of the specified image will be selected.
If a different version is selected than at the time of verification, it may affect the operation of the application.
Therefore, it is recommended to specify the base image as a digest in order to specify exactly which version, after the test is completed.</p>
<p>An example of setting by digest is shown below.</p>
<div class="last highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;jib.from.image&gt;</span>adoptopenjdk@sha256:df316691a2c655de2f835a626f8611c74af67dad2cf92711f6608b54e5aa6c61<span class="nt">&lt;/jib.from.image&gt;</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="run-a-container-image">
<span id="firststepruncontainerbatchdockerimage"></span><h2>Run a container image<a class="headerlink" href="#run-a-container-image" title="Permalink to this headline">¶</a></h2>
<p>Once you have created a container image, you can run it with the following command.</p>
<div class="section" id="on-demand-batch">
<span id="firststepcontainerbatchstartupinnerbatchondemand"></span><h3>On-demand batch<a class="headerlink" href="#on-demand-batch" title="Permalink to this headline">¶</a></h3>
<div class="highlight-text"><div class="highlight"><pre><span></span>cd myapp-container-batch
docker run  --rm -v %CD%\\h2:/h2 -v %CD%\\src\\main\\format:/var/nablarch/format -v %CD%\\work\\output:/var/nablarch/output  --name myapp-container-batch myapp-container-batch:latest -diConfig classpath:batch-boot.xml -requestPath SampleBatch -userId batch_user
</pre></div>
</div>
<p>It works the same as for <a class="reference internal" href="../setup_blankProject/setup_NablarchBatch.html#firststepbatchstartuptest"><span>Communication confirmation (on-demand batch))</span></a>.
If the startup is successful, a log similar to <a class="reference internal" href="../setup_blankProject/setup_NablarchBatch.html#firststepbatchexecondemandbatch"><span>Launching the on-demand batch application</span></a> will be output to the console.</p>
</div>
<div class="section" id="messaging-using-tables-as-queues">
<span id="firststepcontainerbatchstartupinnerbatchdbmessaging"></span><h3>Messaging Using Tables as Queues<a class="headerlink" href="#messaging-using-tables-as-queues" title="Permalink to this headline">¶</a></h3>
<div class="highlight-text"><div class="highlight"><pre><span></span>cd myapp-container-batch
docker run -it  --rm -v %CD%\\h2:/h2 --name myapp-container-batch --rm myapp-container-batch:latest -diConfig classpath:resident-batch-boot.xml -requestPath SampleResiBatch -userId batch_user
</pre></div>
</div>
<p>It works the same as for <a class="reference internal" href="../setup_blankProject/setup_NablarchBatch.html#firststepbatchstartuptestdbmessagingbatch"><span>Communication confirmation (messaging using tables as queues)</span></a> .
If the startup is successful, a log similar to <a class="reference internal" href="../setup_blankProject/setup_NablarchBatch.html#firststepbatchexecdbmessagingbatch"><span>Launching the application</span></a> will be output to the console.
It will go into standby mode, so force quit it with ctrl+c after confirming.</p>
</div>
</div>
<div class="section" id="supplementary-notes">
<h2>Supplementary notes<a class="headerlink" href="#supplementary-notes" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><dl class="docutils">
<dt>About the commands to run the container image.</dt>
<dd><ul class="first last">
<li><p class="first">When the above command is executed, the container will be started, batch processing will be executed, and then the container will be terminated automatically.
Also, -rm option is specified in order to make automatically container deleted when the container is ended.</p>
</li>
<li><p class="first">The above command is an example of the case where SAMPLE.h2.db, which is included in the blank project beforehand, is used as the database.
If you do not use SAMPLE.h2.db, you do not need to specify a volume (<code class="docutils literal"><span class="pre">-v</span></code>) for <code class="docutils literal"><span class="pre">%CD%\\h2:/h2</span></code>.</p>
</li>
<li><p class="first">In addition to the above, in <a class="reference internal" href="#firststepcontainerbatchstartupinnerbatchondemand"><span>On-demand batch</span></a> The blank project <code class="docutils literal"><span class="pre">./work/format</span></code> and <code class="docutils literal"><span class="pre">./work/output</span></code> are mounted in a container.</p>
</li>
<li><p class="first">Even for <a class="reference internal" href="#firststepcontainerbatchstartupinnerbatchdbmessaging"><span>Messaging Using Tables as Queues</span></a>, the <code class="docutils literal"><span class="pre">-it</span> <span class="pre">option</span></code> of the docker command can be omitted, but the batch cannot be killed by ctrl+c from the docker host.
In that case, exit the container with the following command.</p>
<blockquote>
<div><div class="highlight-text"><div class="highlight"><pre><span></span>docker stop myapp-container-batch
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
</dd>
<dt>About Docker</dt>
<dd><p class="first">Running Docker assumes that you are using Docker Desktop (see <a class="reference internal" href="../beforeFirstStep.html#firststeppreamble"><span>Prerequisite</span></a>).
If you are using the Docker Toolbox, the volume specification in the above example will fail.</p>
<p>If you are using the Docker Toolbox, Docker is running in a VM on VirtualBox.
Therefore, the path that can be specified on the host side of the volume is the path on the VM.</p>
<p class="last">On Windows, by default <code class="docutils literal"><span class="pre">C:\Users</span></code> is mounted in <code class="docutils literal"><span class="pre">/c/users</span></code> on the VM.
Thus, if you are using the Docker Toolbox, you must specify the volume as <code class="docutils literal"><span class="pre">-v/c/users/path/to/project/h2:/usr/local/tomcat/h2</span></code> .</p>
</dd>
<dt>About H2 and tools</dt>
<dd>For information on the method of confirming the data of H2 and tools included in the blank project, see <a class="reference internal" href="../firstStep_appendix/firststep_complement.html"><em>Initial Setup Procedure Supplementary Information</em></a>.</dd>
</dl>
</div></blockquote>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
        <p>
            &copy; Copyright 2010-2025, TIS Inc.
        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'5u26',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/custom.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>