


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv='content-language' content='ja'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>6.8.2. Resent Message Control Handler &mdash; ∇Nablarch  6u1 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../../../_static/custom.css" type="text/css" />
  

  

  
  <link rel="canonical" href="https://nablarch.github.io/docs/LATEST/doc/application_framework/application_framework/handlers/mom_messaging/message_resend_handler.html" />
  
    <link rel="top" title="∇Nablarch  6u1 documentation" href="../../../../index.html"/>
        <link rel="up" title="6.8. MOM Messaging Dedicated Handler" href="index.html"/>
        <link rel="next" title="6.8.3. Message Response Control Handler" href="message_reply_handler.html"/>
        <link rel="prev" title="6.8.1. Messaging Context Management Handler" href="messaging_context_handler.html"/>

<script defer data-domain="nablarch.github.io,all.fintan" src=https://plausible.io/js/script.js></script>


  
  <script src="../../../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  
  <a href="../../../../index.html" id="sidebar-title" class="icon"> ∇Nablarch 
  

  
    <div id="sidebar-version">Version: 6u1</div>
  </a>

  <div role="search">
    <form id="google-search-form" class="wy-form" method="get" action="https://www.google.co.jp/search">
      <input type="text" name="text" placeholder="Search docs on google" id="text"/>
      <input type="hidden" name="q" id="q"/>
    </form>
  </div>
    
    

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../about_nablarch/index.html">What is the Nablarch?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/concept.html">Nablarch Concept</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#robustness">Robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#testability">Testability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/concept.html#ready-to-use">Ready-to-Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/mvn_module.html">Module List of Nablarch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/license.html">Information on Nablarch License</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Nablarch Application Framework</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Application Framework</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../nablarch/index.html">1. What is Nablarch Application Framework?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../web/index.html">2. Web Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../web_service/index.html">3. Web Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../batch/index.html">4. Batch Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../messaging/index.html">5. Messaging</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">6. Standard Handler Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../libraries/index.html">7. Libraries Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../blank_project/index.html">8. Blank Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../setting_guide/index.html">9. Nablarch Application Framework Configuration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../configuration/index.html">10. Default Configuration List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../cloud_native/index.html">11. Nablarch Cloud Native Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../adaptors/index.html">Adaptor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/log_adaptor.html">log Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/router_adaptor.html">Routing Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/webspheremq_adaptor.html">IBM MQ Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/jaxrs_adaptor.html">Jakarta RESTful Web Services Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/doma_adaptor.html">Doma Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/jsr310_adaptor.html">JSR310(Date and Time API)Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_freemarker_adaptor.html">E-mail FreeMarker Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_thymeleaf_adaptor.html">E-mail Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/mail_sender_velocity_adaptor.html">E-mail Velocity Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/web_thymeleaf_adaptor.html">Web Application Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/lettuce_adaptor.html">Lettuce Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/slf4j_adaptor.html">SLF4J Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../adaptors/micrometer_adaptor.html">Micrometer Adapter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../example/index.html">Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../example/index.html#procedure-to-build-the-environment">Procedure to build the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../example/index.html#application-execution-procedure">Application execution procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../example/index.html#running-on-java-21">Running on Java 21</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../development_tools/index.html">Nablarch development tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html">1. Efficient Java Static Checks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#run-inspection">1.1. Run inspection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#unify-the-format">1.2. Unify the format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/java_static_analysis/index.html#check-if-unauthorized-apis-are-being-used">1.3. Check if unauthorized APIs are being used</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/testing_framework/index.html">2. Testing framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/05_UnitTestGuide/index.html">2.1. How to Execute Unit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/06_TestFWGuide/index.html">2.2. How to Use the Automated Test Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/testing_framework/guide/development_guide/08_TestTools/index.html">2.3. Tools Used in the Programming Phase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../development_tools/toolbox/index.html">3. Useful Tools When Developing Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/JspStaticAnalysis/index.html">3.1. Jakarta Server Pages Static Analysis Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../development_tools/toolbox/SqlExecutor/SqlExecutor.html">3.2. Nablarch SQL Executor</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../nablarch_api/index.html">Nablarch API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html">Nablarch upgrade policy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#release-unit">Release unit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#types-of-upgrades">Types of upgrades</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#version-numbering-system">Version numbering system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#backward-compatibility-policy">Backward compatibility policy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#extent-to-which-backward-compatibility-is-maintained">Extent to which backward compatibility is maintained</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#contents-of-backward-compatibility-maintenance">Contents of backward compatibility maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../about_nablarch/versionup_policy.html#backward-compatibility-exception">Backward compatibility exception</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../migration/index.html">Nablarch 5 to 6 Migration Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../migration/index.html#major-differences-between-nablarch-5-and-6">Major differences between Nablarch 5 and 6</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../migration/index.html#supports-jakarta-ee-10">Supports Jakarta EE 10</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../migration/index.html#changed-required-java-version-to-17">Changed  required Java version to 17</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../migration/index.html#prerequisites">Prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../migration/index.html#overview-of-migration-steps">Overview of migration steps</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../migration/index.html#details-of-migration-steps">Details of migration steps</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../migration/index.html#nablarch-version-upgrade">Nablarch version upgrade</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../migration/index.html#compatible-with-jakarta-ee">Compatible with Jakarta EE</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../migration/index.html#migration-procedure-of-jsr352-compliant-batch-application">Migration procedure of JSR352-compliant Batch Application</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../migration/index.html#what-to-do-if-an-error-occurs-during-execution">What to do if an error occurs during execution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../migration/index.html#appendix">Appendix</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../migration/index.html#correspondence-table-between-java-ee-and-jakarta-ee-specifications">Correspondence table between Java EE and Jakarta EE specifications</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../jakarta_ee/index.html">Regarding the specification name of Jakarta EE</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../jakarta_ee/index.html#regarding-the-notation-of-acronyms">Regarding the notation of acronyms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../jakarta_ee/index.html#regarding-features-that-have-been-renamed-in-nablarch-5-and-6">Regarding features that have been renamed in Nablarch 5 and 6</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../terms_of_use/index.html">Terms of Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../terms_of_use/index.html#external-transmssion-of-information">External Transmssion of Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../terms_of_use/index.html#purpose-of-information-use">Purpose of Information Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../terms_of_use/index.html#destination-of-information">Destination of information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../terms_of_use/index.html#type-and-use-of-information">Type and use of information</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">∇Nablarch </a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../../index.html">Nablarch Application Framework</a> &raquo;</li>
      
          <li><a href="../../index.html">Application Framework</a> &raquo;</li>
      
          <li><a href="../index.html">6. Standard Handler Provided by Nablarch</a> &raquo;</li>
      
          <li><a href="index.html">6.8. MOM Messaging Dedicated Handler</a> &raquo;</li>
      
    <li>6.8.2. Resent Message Control Handler</li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://github.com/nablarch" class="fa fa-github">GitHub</a>
    </li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://nablarch.github.io/docs/LATEST/doc/index.html" class="ja">日本語</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="resent-message-control-handler">
<span id="message-resend-handler"></span><h1>6.8.2. Resent Message Control Handler<a class="headerlink" href="#resent-message-control-handler" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="table-of-contents">
<p class="topic-title first">Table of contents</p>
<ul class="simple">
<li><a class="reference internal" href="#handler-class-name" id="id1">Handler class name</a></li>
<li><a class="reference internal" href="#module-list" id="id2">Module list</a></li>
<li><a class="reference internal" href="#constraints" id="id3">Constraints</a></li>
<li><a class="reference internal" href="#save-destination-of-response-message" id="id4">Save destination of response message</a></li>
<li><a class="reference internal" href="#how-to-determine-if-it-is-the-same-message-resent-message" id="id5">How to determine if it is the same message (resent message)</a></li>
<li><a class="reference internal" href="#configuring-the-framework-control-header" id="id6">Configuring the framework control header</a></li>
</ul>
</div>
<p>This handler controls the resend when the same message is received repeatedly.</p>
<p>Specifically, when the same message is received repeatedly, it determines whether the processing for the message has been completed (whether a response message has been created).
If the process has already been completed (if a response message has been created), the created response message is automatically sent instead of repeating the business process.</p>
<p>Refer to  <a class="reference internal" href="#message-resend-handler-resent-message"><span>How to determine if it is the same message (resent message)</span></a>  for the method to determine whether the message is the same.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p>The advantages of applying this handler are as below:</p>
<ul class="last simple">
<li>If a response message has already been created, the system load can be reduced as the business process is omitted.</li>
<li>In the case of the registration process to the database, a logic for preventing double capture is not required as the business process is omitted.</li>
</ul>
</div>
<p>This handler performs the following processes:</p>
<ul class="simple">
<li>Save process of the response message</li>
<li>In the case of resent messages, send process of the saved response message</li>
<li>In the case of other than resent message and stored resend message is not available, delegates processing to the subsequent handler</li>
</ul>
<p>The process flow is as follows.</p>
<a class="reference internal image-reference" href="../../../../_images/flow14.png"><img alt="../../../../_images/flow14.png" src="../../../../_images/flow14.png" /></a>
<div class="section" id="handler-class-name">
<h2><a class="toc-backref" href="#id1">6.8.2.1. Handler class name</a><a class="headerlink" href="#handler-class-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://nablarch.github.io/docs/6u1/javadoc/nablarch/fw/messaging/handler/MessageResendHandler.html" title="nablarch.fw.messaging.handler.MessageResendHandler">nablarch.fw.messaging.handler.MessageResendHandler</a></li>
</ul>
</div>
<div class="section" id="module-list">
<h2><a class="toc-backref" href="#id2">6.8.2.2. Module list</a><a class="headerlink" href="#module-list" title="Permalink to this headline">¶</a></h2>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;dependency&gt;</span>
  <span class="nt">&lt;groupId&gt;</span>com.nablarch.framework<span class="nt">&lt;/groupId&gt;</span>
  <span class="nt">&lt;artifactId&gt;</span>nablarch-fw-messaging<span class="nt">&lt;/artifactId&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</pre></div>
</div>
</div>
<div class="section" id="constraints">
<h2><a class="toc-backref" href="#id3">6.8.2.3. Constraints</a><a class="headerlink" href="#constraints" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>Configure this handler after the <a class="reference internal" href="message_reply_handler.html#message-reply-handler"><span>Message Response Control Handler</span></a> .</dt>
<dd>It is necessary to send the response message created by this handler.
Therefore it is necessary to configure this handler after  <a class="reference internal" href="message_reply_handler.html#message-reply-handler"><span>Message Response Control Handler</span></a> , which sends the message.</dd>
<dt>Configure this handler after the <a class="reference internal" href="../common/transaction_management_handler.html#transaction-management-handler"><span>Transaction Control Handler</span></a> .</dt>
<dd>This handler saves the response message in the database.
Therefore it is necessary to configure this handler after the  <a class="reference internal" href="../common/transaction_management_handler.html#transaction-management-handler"><span>Transaction Control Handler</span></a> , which realizes transaction control for the database.</dd>
</dl>
</div>
<div class="section" id="save-destination-of-response-message">
<h2><a class="toc-backref" href="#id4">6.8.2.4. Save destination of response message</a><a class="headerlink" href="#save-destination-of-response-message" title="Permalink to this headline">¶</a></h2>
<p>The response message created in the subsequent handler is stored in the table on the database.
Therefore, the storage table for response messages has to be prepared in advance.</p>
<p>The definition of the table that stores the response message is as below.
For default table name or value of physical name, see  <a class="reference external" href="https://nablarch.github.io/docs/6u1/javadoc/nablarch/fw/messaging/tableschema/SentMessageTableSchema.html" title="nablarch.fw.messaging.tableschema.SentMessageTableSchema">SentMessageTableSchema</a> .</p>
<table border="1" class="colwidths-given white-space-normal docutils">
<colgroup>
<col width="30%" />
<col width="30%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Column name</th>
<th class="head">Constraints</th>
<th class="head">Stored value</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Request ID</td>
<td>Primary key <br /> String type</td>
<td>Request ID of request message</td>
</tr>
<tr class="row-odd"><td>Message ID</td>
<td>Primary key <br /> String type</td>
<td><p class="first">Message ID of request message</p>
<p>In the case of a resent message, instead of the message ID use the correlation message ID.</p>
<p class="last">For details, see <a class="reference internal" href="#message-resend-handler-resent-message"><span>How to determine if it is the same message (resent message)</span></a> .</p>
</td>
</tr>
<tr class="row-even"><td>Logical name of the destination queue</td>
<td>String type</td>
<td>Logical name of the destination queue for sending response message <br />
(<a class="reference external" href="https://nablarch.github.io/docs/6u1/javadoc/nablarch/fw/messaging/InterSystemMessage.html#getDestination--" title="nablarch.fw.messaging.InterSystemMessage.getDestination()">InterSystemMessage#getDestination()</a>)</td>
</tr>
<tr class="row-odd"><td>Process result code</td>
<td>String type</td>
<td>Process result code of the response message: <br />
(<a class="reference external" href="https://nablarch.github.io/docs/6u1/javadoc/nablarch/fw/messaging/ResponseMessage.html#getStatusCode--" title="nablarch.fw.messaging.ResponseMessage.getStatusCode()">ResponseMessage#getStatusCode()</a>)</td>
</tr>
<tr class="row-even"><td>Response message</td>
<td>Binary type</td>
<td>Response message contents <br />
(<a class="reference external" href="https://nablarch.github.io/docs/6u1/javadoc/nablarch/fw/messaging/ResponseMessage.html#getBodyBytes--" title="nablarch.fw.messaging.ResponseMessage.getBodyBytes()">ResponseMessage#getBodyBytes()</a>)</td>
</tr>
</tbody>
</table>
<p>The default table name or column name can be changed with configuration.
For details, see <a class="reference external" href="https://nablarch.github.io/docs/6u1/javadoc/nablarch/fw/messaging/tableschema/SentMessageTableSchema.html" title="nablarch.fw.messaging.tableschema.SentMessageTableSchema">SentMessageTableSchema</a>  and <a class="reference external" href="https://nablarch.github.io/docs/6u1/javadoc/nablarch/fw/messaging/handler/MessageResendHandler.html#setSentMessageTableSchema-nablarch.fw.messaging.tableschema.SentMessageTableSchema-" title="nablarch.fw.messaging.handler.MessageResendHandler.setSentMessageTableSchema(nablarch.fw.messaging.tableschema.SentMessageTableSchema)">sentMessageTableSchema property</a> .</p>
</div>
<div class="section" id="how-to-determine-if-it-is-the-same-message-resent-message">
<span id="message-resend-handler-resent-message"></span><h2><a class="toc-backref" href="#id5">6.8.2.5. How to determine if it is the same message (resent message)</a><a class="headerlink" href="#how-to-determine-if-it-is-the-same-message-resent-message" title="Permalink to this headline">¶</a></h2>
<p>If the message received by this handler satisfies the below conditions, it is determined that the request message received has already been processed and returns the saved response message as the process result.</p>
<ul class="simple">
<li>A value is configured in the resent request flag of the framework control header</li>
<li>Data associated with the request ID and message ID of the request messages received is present in the table that stores the response message</li>
</ul>
<p>For details of the framework control header, see <a class="reference internal" href="../../libraries/system_messaging/mom_system_messaging.html#mom-system-messaging-fw-header"><span>framework control header</span></a> .</p>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>The following conditions must be satisfied when the partner system sends the request message.
The handler cannot be used if this constraint is not satisfied, and a new handler must be created to implement resent control in the project.</p>
<ul class="last simple">
<li>Configure the message ID of the request message used during the first send as the correlation message ID of the resent message</li>
<li>Configure a value in the resent request flag of the framework control header</li>
</ul>
</div>
</div>
<div class="section" id="configuring-the-framework-control-header">
<h2><a class="toc-backref" href="#id6">6.8.2.6. Configuring the framework control header</a><a class="headerlink" href="#configuring-the-framework-control-header" title="Permalink to this headline">¶</a></h2>
<p>When changing the definition of the framework control header in the response message, the definition of the framework control header extended in the project has to be configured.
If it is not configured, the default <a class="reference external" href="https://nablarch.github.io/docs/6u1/javadoc/nablarch/fw/messaging/StandardFwHeaderDefinition.html" title="nablarch.fw.messaging.StandardFwHeaderDefinition">StandardFwHeaderDefinition</a>  will be used.</p>
<p>For details of the framework control header, see  <a class="reference internal" href="../../libraries/system_messaging/mom_system_messaging.html#mom-system-messaging-fw-header"><span>framework control header</span></a> .</p>
<p>A configuration example is shown below.</p>
<div class="highlight-xml"><div class="highlight"><pre><span></span><span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;nablarch.fw.messaging.handler.MessageResendHandler&quot;</span><span class="nt">&gt;</span>
  <span class="c">&lt;!-- Configuring the framework control header --&gt;</span>
  <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">&quot;fwHeaderDefinition&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;component</span> <span class="na">class=</span><span class="s">&quot;sample.SampleFwHeaderDefinition&quot;</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/property&gt;</span>
<span class="nt">&lt;/component&gt;</span>
</pre></div>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
        <p>
            &copy; Copyright 2010-2024, TIS Inc.
        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../../../',
            VERSION:'6u1',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../../../_static/custom.js"></script>

  

  
  
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>