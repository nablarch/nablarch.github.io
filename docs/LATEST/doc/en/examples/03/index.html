


<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv='content-language' content='ja'>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Display a List of Search Results &mdash; ∇Nablarch  5u24 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />
  

  

  
  <link rel="canonical" href="https://nablarch.github.io/docs/LATEST/doc/examples/03/index.html" />
  
    <link rel="top" title="∇Nablarch  5u24 documentation" href="../../index.html"/>
        <link rel="up" title="Nablarch Implementation Examples" href="../index.html"/>
        <link rel="next" title="Extended Formatter Functions" href="../04/index.html"/>
        <link rel="prev" title="Sample Password Encryption Function Using PBKDF2" href="../01/0101_PBKDF2PasswordEncryptor.html"/>

<script defer data-domain="nablarch.github.io,all.fintan" src=https://plausible.io/js/script.js></script>


  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          
  
  <a href="../../index.html" id="sidebar-title" class="icon"> ∇Nablarch 
  

  
    <div id="sidebar-version">Version: 5u24</div>
  </a>

  <div role="search">
    <form id="google-search-form" class="wy-form" method="get" action="https://www.google.co.jp/search">
      <input type="text" name="text" placeholder="Search docs on google" id="text"/>
      <input type="hidden" name="q" id="q"/>
    </form>
  </div>
    
    

        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
  
  
    <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../about_nablarch/index.html">What is the Nablarch?</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about_nablarch/concept.html">Nablarch Concept</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../about_nablarch/concept.html#robustness">Robustness</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../about_nablarch/concept.html#testability">Testability</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../about_nablarch/concept.html#ready-to-use">Ready-to-Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about_nablarch/mvn_module.html">Module List of Nablarch</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about_nablarch/license.html">Information on Nablarch License</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../application_framework/index.html">Nablarch Application Framework</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../application_framework/application_framework/index.html">Application Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/nablarch/index.html">1. What is Nablarch Application Framework?</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/web/index.html">2. Web Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/web_service/index.html">3. Web Service</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/batch/index.html">4. Batch Application</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/messaging/index.html">5. Messaging</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/handlers/index.html">6. Standard Handler Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/libraries/index.html">7. Libraries Provided by Nablarch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/blank_project/index.html">8. Blank Project</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/setting_guide/index.html">9. Nablarch Application Framework Configuration Guide</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/configuration/index.html">10. Default Configuration List</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/application_framework/cloud_native/index.html">11. Nablarch Cloud Native Support</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../application_framework/adaptors/index.html">Adaptor</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/log_adaptor.html">log Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/router_adaptor.html">Routing Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/webspheremq_adaptor.html">IBM MQ Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/jaxrs_adaptor.html">JAX-RS Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/doma_adaptor.html">Doma Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/jsr310_adaptor.html">JSR310(Date and Time API)Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/mail_sender_freemarker_adaptor.html">E-mail FreeMarker Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/mail_sender_thymeleaf_adaptor.html">E-mail Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/mail_sender_velocity_adaptor.html">E-mail Velocity Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/web_thymeleaf_adaptor.html">Web Application Thymeleaf Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/lettuce_adaptor.html">Lettuce Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/slf4j_adaptor.html">SLF4J Adapter</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/adaptors/micrometer_adaptor.html">Micrometer Adapter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../application_framework/example/index.html">Example</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/example/index.html#procedure-to-build-the-environment">Procedure to build the environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/example/index.html#application-execution-procedure">Application execution procedure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../application_framework/example/index.html#running-on-java-11-or-higher">Running on Java 11 or higher</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../extension_components/index.html">Nablarch extension component</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../extension_components/report/index.html">1. Form library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extension_components/workflow/doc/index.html">2. Workflow library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extension_components/workflow/tool/index.html">3. Workflow definition data generation tool</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extension_components/etl/index.html">4. ETL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../extension_components/etl/etl_maven_plugin.html">5. ETL Maven plugin</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../development_tools/index.html">Nablarch development tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../development_tools/java_static_analysis/index.html">1. Efficient Java Static Checks</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/java_static_analysis/index.html#run-inspection">1.1. Run inspection</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/java_static_analysis/index.html#unify-the-format">1.2. Unify the format</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/java_static_analysis/index.html#check-if-unauthorized-apis-are-being-used">1.3. Check if unauthorized APIs are being used</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../development_tools/ui_dev/index.html">2. Front-end UI development platform for advanced users</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../development_tools/testing_framework/index.html">3. Testing framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/testing_framework/guide/development_guide/05_UnitTestGuide/index.html">3.1. How to Execute Unit Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/testing_framework/guide/development_guide/06_TestFWGuide/index.html">3.2. How to Use the Automated Test Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/testing_framework/guide/development_guide/08_TestTools/index.html">3.3. Tools Used in the Programming Phase</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../development_tools/toolbox/index.html">4. Useful Tools When Developing Applications</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/toolbox/JspStaticAnalysis/index.html">4.1. JSP Static Analysis Tool</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/toolbox/SqlExecutor/SqlExecutor.html">4.2. Nablarch SQL Executor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../development_tools/toolbox/JspVerifier/JspVerifier.html">4.3. Job Screen JSP Validation Tool</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Nablarch Implementation Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../01/index.html">Sample Password Encryption Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../01/0101_PBKDF2PasswordEncryptor.html">Sample Password Encryption Function Using PBKDF2</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../01/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Display a List of Search Results</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="#universaldao-class">UniversalDao class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#listsearchinfo-class">ListSearchInfo class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#pagination-class">Pagination class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#entitylist-class">EntityList class</a></li>
<li class="toctree-l3"><a class="reference internal" href="#listsearchresult-tag">listSearchResult tag</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-to-import-a-sample-implementation-tag-file-into-the-business-application">How to import a sample implementation (tag file) into the business application</a></li>
<li class="toctree-l3"><a class="reference internal" href="#tag-reference">Tag Reference</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../04/index.html">Extended Formatter Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../04/0401_ExtendedDataFormatter.html">Data Formatter Expansion</a></li>
<li class="toctree-l3"><a class="reference internal" href="../04/0402_ExtendedFieldType.html">Field Type Expansion in the Data Formatter Function</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../05/index.html">Sample File Management Function Using Database</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../05/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../05/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../05/index.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../05/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../05/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../08/index.html">Sample of HTML Email Send Function</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../08/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../08/index.html#implementation-examples">Implementation examples</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../09/index.html">How to Use a Sample to Send a Digitally Signed Email Using Bouncycastle</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../09/index.html#environment-preparation">Environment preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../09/index.html#structure-of-digitally-signed-email-send-function">Structure of digitally signed email send function</a></li>
<li class="toctree-l3"><a class="reference internal" href="../09/index.html#preparation-of-configuration-file">Preparation of configuration file</a></li>
<li class="toctree-l3"><a class="reference internal" href="../09/index.html#execution">Execution</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../10/index.html">How to Use the Log Aggregation Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../10/index.html#list-of-samples-provided">List of samples provided</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../11/index.html">Messaging Platform Test Simulator Sample</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../11/index.html#uses">Uses</a></li>
<li class="toctree-l3"><a class="reference internal" href="../11/index.html#features">Features</a></li>
<li class="toctree-l3"><a class="reference internal" href="../11/index.html#request">Request</a></li>
<li class="toctree-l3"><a class="reference internal" href="../11/index.html#how-to-use">How to use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../11/index.html#expansion-example">Expansion example</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../12/index.html">Authentication sample using OIDC ID token</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../12/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../12/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../12/index.html#structure">Structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="../12/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../13/index.html">Sample Request/Response Log Output Using Logbook</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../13/index.html#delivery-package">Delivery package</a></li>
<li class="toctree-l3"><a class="reference internal" href="../13/index.html#summary">Summary</a></li>
<li class="toctree-l3"><a class="reference internal" href="../13/index.html#how-to-use">How to Use</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../nablarch_api/index.html">Nablarch API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about_nablarch/versionup_policy.html">Nablarch upgrade policy</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about_nablarch/versionup_policy.html#release-unit">Release unit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about_nablarch/versionup_policy.html#types-of-upgrades">Types of upgrades</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about_nablarch/versionup_policy.html#version-numbering-system">Version numbering system</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about_nablarch/versionup_policy.html#backward-compatibility-policy">Backward compatibility policy</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../about_nablarch/versionup_policy.html#extent-to-which-backward-compatibility-is-maintained">Extent to which backward compatibility is maintained</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../about_nablarch/versionup_policy.html#contents-of-backward-compatibility-maintenance">Contents of backward compatibility maintenance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../about_nablarch/versionup_policy.html#backward-compatibility-exception">Backward compatibility exception</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../terms_of_use/index.html">Terms of Use</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../terms_of_use/index.html#external-transmssion-of-information">External Transmssion of Information</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../terms_of_use/index.html#purpose-of-information-use">Purpose of Information Use</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../terms_of_use/index.html#destination-of-information">Destination of information</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../terms_of_use/index.html#type-and-use-of-information">Type and use of information</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">∇Nablarch </a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../index.html">Nablarch Implementation Examples</a> &raquo;</li>
      
    <li>Display a List of Search Results</li>
    <li class="wy-breadcrumbs-aside">
      <a href="https://github.com/nablarch" class="fa fa-github">GitHub</a>
    </li>
    <li class="wy-breadcrumbs-aside">
        <a href="https://nablarch.github.io/docs/LATEST/doc/index.html" class="ja">日本語</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="display-a-list-of-search-results">
<span id="list-search-result"></span><h1>Display a List of Search Results<a class="headerlink" href="#display-a-list-of-search-results" title="Permalink to this headline">¶</a></h1>
<p>This sample is an implementation sample of the tag file that displays a list of search results.</p>
<p><a class="reference external" href="https://github.com/nablarch/nablarch-biz-sample-all">Source code</a></p>
<div class="section" id="delivery-package">
<h2>Delivery package<a class="headerlink" href="#delivery-package" title="Permalink to this headline">¶</a></h2>
<p>The sample is provided in the following package.</p>
<blockquote>
<div><em>resources/META-INF/tags/</em><strong>listSearchResult</strong></div></blockquote>
</div>
<div class="section" id="summary">
<h2>Summary<a class="headerlink" href="#summary" title="Permalink to this headline">¶</a></h2>
<p>An implementation sample of the tag file that displays a list of search results is provided in this section.
The tag file provides the following functions together with the search function by the <a class="reference internal" href="../../application_framework/application_framework/libraries/database/universal_dao.html#universal-dao"><span>Universal DAO</span></a>.</p>
<ul class="simple">
<li>Function for displaying the number of search results</li>
<li>Function for displaying the search results by the specified number of results (hereinafter referred to as paging)</li>
</ul>
<p>An example of the output on the list screen is shown below.</p>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_Example.jpg"><img alt="../../_images/ListSearchResult_Example.jpg" src="../../_images/ListSearchResult_Example.jpg" /></a>
<div class="line-block" id="listsearchresult-structure">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="structure">
<h2>Structure<a class="headerlink" href="#structure" title="Permalink to this headline">¶</a></h2>
<p>Shows the sample structure.</p>
<div class="section" id="class-diagram">
<h3>Class diagram<a class="headerlink" href="#class-diagram" title="Permalink to this headline">¶</a></h3>
<p>The application programmer can implement paging without implementing the details since the classes provided
by the framework and the tag files provided by the sample perform the processing required for paging.</p>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_Structure.png"><img alt="../../_images/ListSearchResult_Structure.png" src="../../_images/ListSearchResult_Structure.png" /></a>
<div class="section" id="responsibilities-of-the-classes-and-tag-files-provided-by-the-framework">
<h4>Responsibilities of the classes and tag files provided by the framework<a class="headerlink" href="#responsibilities-of-the-classes-and-tag-files-provided-by-the-framework" title="Permalink to this headline">¶</a></h4>
<p>a) Framework</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Class name</th>
<th class="head">Summary</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>UniversalDao</td>
<td>Provides general-purpose DAO functionality. Please refer to <a class="reference internal" href="../../application_framework/application_framework/libraries/database/universal_dao.html#universal-dao"><span>Universal DAO</span></a> for basic usage.</td>
</tr>
<tr class="row-odd"><td>ListSearchInfo</td>
<td>Abstract class that holds information for list search.</td>
</tr>
<tr class="row-even"><td>Pagination</td>
<td>A concrete class that inherits from ListSearchInfo.</td>
</tr>
<tr class="row-odd"><td>EntityList</td>
<td>A holding class for the result list returned from a UniversalDao.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>b) Tag file</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Tag name</th>
<th class="head">Summary</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>listSearchResult</td>
<td>Tag that displays the list of search results.</td>
</tr>
<tr class="row-odd"><td>listSearchPaging</td>
<td>Tag that outputs paging.</td>
</tr>
<tr class="row-even"><td>listSearchSubmit</td>
<td>Tag that outputs the paging submit element.</td>
</tr>
<tr class="row-odd"><td>table</td>
<td>Tag that outputs a table.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
</div>
</div>
<div class="section" id="universaldao-class">
<span id="listsearchresult-universaldao"></span><h2>UniversalDao class<a class="headerlink" href="#universaldao-class" title="Permalink to this headline">¶</a></h2>
<p><a class="reference external" href="https://nablarch.github.io/docs/5u24/javadoc/nablarch/common/dao/UniversalDao.html" title="nablarch.common.dao.UniversalDao">UniversalDao</a> class has an API that returns multiple search results as an EntityList.
See <a class="reference internal" href="../../application_framework/application_framework/libraries/database/universal_dao.html#universal-dao-paging"><span>Paging</span></a> when using the paging feature.</p>
</div>
<div class="section" id="listsearchinfo-class">
<span id="listsearchresult-listsearchinfo"></span><h2>ListSearchInfo class<a class="headerlink" href="#listsearchinfo-class" title="Permalink to this headline">¶</a></h2>
<p>ListSearchInfo class is an abstract class that holds list search information.
Fields and accessor methods such as number of pages for pagination and number of items matching search conditions are defined in this class.
See <a class="reference external" href="https://nablarch.github.io/docs/5u24/javadoc/nablarch/core/db/support/ListSearchInfo.html" title="nablarch.core.db.support.ListSearchInfo">nablarch.core.db.support.ListSearchInfo</a> for details.</p>
</div>
<div class="section" id="pagination-class">
<span id="listsearchresult-pagination"></span><h2>Pagination class<a class="headerlink" href="#pagination-class" title="Permalink to this headline">¶</a></h2>
<p>Pagination class inherits ListSearchInfo and is used to refer to pagination information.</p>
</div>
<div class="section" id="entitylist-class">
<span id="listsearchresult-entitylist"></span><h2>EntityList class<a class="headerlink" href="#entitylist-class" title="Permalink to this headline">¶</a></h2>
<p>EntityList class is the holding class of result list returned from UniversalDao.
Inherits the java.util.ArrayList and has an instance of the Pagination class in the field.</p>
</div>
<div class="section" id="listsearchresult-tag">
<span id="listsearchresult-listsearchresulttag"></span><h2>listSearchResult tag<a class="headerlink" href="#listsearchresult-tag" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#id1"><span>listSearchResult tag</span></a> tag displays the list of search results.
The screen elements output by the listSearchResult tag are shown below.</p>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_PagingTableFull.jpg"><img alt="../../_images/ListSearchResult_PagingTableFull.jpg" src="../../_images/ListSearchResult_PagingTableFull.jpg" /></a>
<div class="section" id="main-attributes-of-the-listsearchresult-tag">
<h3>Main attributes of the listSearchResult tag<a class="headerlink" href="#main-attributes-of-the-listsearchresult-tag" title="Permalink to this headline">¶</a></h3>
<p>The main attributes of the listSearchResult tag are shown below. For more information on all the attributes, see <a class="reference internal" href="#id1"><span>listSearchResult tag</span></a>.</p>
<p>If the search result specified by the resultSetName attribute does not exist in the request scope, the listSearchResult tag will not output anything.
This corresponds to the case where the initial display of the search screen does not output anything.</p>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="2">Overall</td>
</tr>
<tr class="row-odd"><td>listSearchInfoName</td>
<td>Name used to acquire ListSearchInfo from the Request scope.  <br />
If not specified, &#8220;Number of search results&#8221; and &#8220;Paging&#8221; are not displayed.  <br />
Do not specify when displaying only a list such as batch deletion confirmation screen.</td>
</tr>
<tr class="row-even"><td>searchFormName</td>
<td>Name used to acquire search form from the Request scope.  <br />
The search form holds search criteria and page numbers for paging.</td>
</tr>
<tr class="row-odd"><td colspan="2">Search result list</td>
</tr>
<tr class="row-even"><td>useResultCount</td>
<td>Whether to display the number of search results.  <br />
Default is true.</td>
</tr>
<tr class="row-odd"><td colspan="2">Paging</td>
</tr>
<tr class="row-even"><td>usePaging</td>
<td>Whether to display paging.  <br />
Default is true.  <br /></td>
</tr>
<tr class="row-odd"><td>searchUri</td>
<td>URI to use for the paging submit element.  <br />
Must be specified when paging is displayed.</td>
</tr>
<tr class="row-even"><td colspan="2">Search result</td>
</tr>
<tr class="row-odd"><td>resultSetName (required)</td>
<td>The name to use when retrieving <a class="reference external" href="https://nablarch.github.io/docs/5u24/javadoc/nablarch/common/dao/EntityList.html" title="nablarch.common.dao.EntityList">Universal DAO search results</a> from the request scope. The search results also include the number of pages for pagination and the number of items that match the search conditions. <br /></td>
</tr>
<tr class="row-even"><td>headerRowFragment</td>
<td>JSP fragment of the header row. For more information on the header row, see <a class="reference internal" href="#listsearchresult-tableelement"><span>Search result</span></a>  <br /></td>
</tr>
<tr class="row-odd"><td>bodyRowFragment</td>
<td>JSP fragment for the body row. For information on the body row, see <a class="reference internal" href="#listsearchresult-tableelement"><span>Search result</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="search-result-list">
<span id="listsearchresult-resultcountelement"></span><h3>Search result list<a class="headerlink" href="#search-result-list" title="Permalink to this headline">¶</a></h3>
<p>The number of search results is displayed when true (default is true) is specified in the useResultCount attribute and the search results exist in the request scope.
By default, the number of search results is output in the following format.</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span>Search results <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">resultCount</span> <span class="n">property</span> <span class="n">of</span> <span class="n">pagination</span> <span class="o">--</span><span class="k">%&gt;</span>Record
</pre></div>
</div>
<p>To change the default format, specify the JSP fragment in the resultCountFragment attribute.
An example of specifying the resultCountFragment attribute is shown below.</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;app:listSearchResult</span> <span class="na">resultSetName=</span><span class="s">&quot;searchResult&quot;</span> <span class="na">useResultCount=</span><span class="s">&quot;true&quot;</span><span class="nt">&gt;</span>

   <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Specify</span> <span class="n">the</span> <span class="n">JSP</span> <span class="n">fragment</span> <span class="n">in</span> <span class="n">the</span> <span class="n">resultCountFragment</span> <span class="n">attribute</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>
   <span class="nt">&lt;jsp:attribute</span> <span class="na">name=</span><span class="s">&quot;resultCountFragment&quot;</span><span class="nt">&gt;</span>
     [Search results <span class="nt">&lt;n:write</span> <span class="na">name=</span><span class="s">&quot;searchResult.pagination.resultCount&quot;</span> <span class="nt">/&gt;</span>page]
   <span class="nt">&lt;/jsp:attribute&gt;</span>

   <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Other</span> <span class="n">attributes</span> <span class="n">are</span> <span class="n">omitted</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>

<span class="nt">&lt;/app:listSearchResult&gt;</span>
</pre></div>
</div>
<p>The format for the number of search results after the specification mentioned above is as follows.</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span>[Search results <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">resultCount</span> <span class="n">property</span> <span class="n">of</span> <span class="n">pagination</span> <span class="o">--</span><span class="k">%&gt;</span> page]
</pre></div>
</div>
</div>
<div class="section" id="paging">
<span id="listsearchresult-pagingelement"></span><h3>Paging<a class="headerlink" href="#paging" title="Permalink to this headline">¶</a></h3>
<p>Paging is displayed when the usePaging attribute is specified as true (the default is true).</p>
<p>When using the paging function, implement so that the form specified by searchFormName receives the page number with the name pageNumber.
Examples are shown below.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ProjectSearchForm</span> <span class="o">{</span>

  <span class="nd">@Required</span>
  <span class="nd">@Domain</span><span class="o">(</span><span class="s">&quot;pageNumber&quot;</span><span class="o">)</span>
  <span class="kd">private</span> <span class="n">String</span> <span class="n">pageNumber</span><span class="o">;</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getPageNumber</span><span class="o">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">pageNumber</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="n">String</span> <span class="nf">getPageNumber</span><span class="o">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">pageNumber</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setPageNumber</span><span class="o">(</span><span class="n">String</span> <span class="n">pageNumber</span><span class="o">){</span>
    <span class="k">this</span><span class="o">.</span><span class="na">pageNumber</span> <span class="o">=</span> <span class="n">pageNumber</span><span class="o">;</span>
  <span class="o">}</span>

  <span class="c1">// Omit other attributes.</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The paging screen elements are shown below.
Paging consists of the current page number and the submit elements for moving the page.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_PagingFull.jpg"><img alt="../../_images/ListSearchResult_PagingFull.jpg" src="../../_images/ListSearchResult_PagingFull.jpg" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>The entire paging is displayed when the number of search results is 1 or more.
Assuming that the entire paging is displayed, the paging screen elements are as shown below.</p>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="81%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Paging screen element</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Current page number</td>
<td>The current page number is displayed when true is specified in the useCurrentPageNumber attribute.</td>
</tr>
<tr class="row-odd"><td>First, Previous, Next, Last</td>
<td>If it is possible to transition from the current page number to the page indicated by each screen element, it will be displayed in a state where it can be submitted.
If transition is not possible, a link is displayed as a label.</td>
</tr>
<tr class="row-even"><td>Page number</td>
<td>All page numbers (1..n) are displayed only when the total number of pages is 2 or more.</td>
</tr>
</tbody>
</table>
<p>The typical attributes that can be specified by the paging screen elements are as follows.
For more information on all the attributes, see <a class="reference internal" href="#id1"><span>listSearchResult tag</span></a>.</p>
<ul class="simple">
<li>Whether or not each screen element can be used</li>
<li>Label for each screen element (such as first, previous, next, last)</li>
<li>Current page number that is changed by the JSP fragment</li>
<li>Page numbers that cannot be changed because they use the page number for the label</li>
</ul>
<p><strong>Search conditions when paging</strong></p>
<p>Search conditions for paging can be realized by constructing a URI with search conditions set as parameters and passing it to the searchUri attribute.
An example of specifying a project name as a search condition is shown below.</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;c&quot;</span> <span class="n">uri</span><span class="o">=</span><span class="s">&quot;http://java.sun.com/jsp/jstl/core&quot;</span> <span class="k">%&gt;</span>
<span class="k">&lt;%@</span> <span class="n">taglib</span> <span class="n">prefix</span><span class="o">=</span><span class="s">&quot;app&quot;</span> <span class="n">tagdir</span><span class="o">=</span><span class="s">&quot;/WEB-INF/tags/listSearchResult&quot;</span> <span class="k">%&gt;</span>

<span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Register</span> <span class="n">the</span> <span class="n">URI</span> <span class="n">that</span> <span class="n">has</span> <span class="n">the</span> <span class="n">search</span> <span class="n">condition</span> <span class="n">used</span> <span class="n">to</span> <span class="n">display</span> <span class="n">the</span> <span class="n">current</span> <span class="n">search</span> <span class="n">result</span> <span class="n">as</span> <span class="n">a</span> <span class="n">parameter</span> <span class="n">in</span> <span class="n">the</span> <span class="n">page</span> <span class="n">scope</span> <span class="n">as</span> <span class="n">a</span> <span class="n">variable</span><span class="o">.</span>
     <span class="n">This</span> <span class="n">variable</span> <span class="n">is</span> <span class="n">used</span> <span class="n">as</span> <span class="n">URI</span> <span class="k">for</span> <span class="n">paging</span> <span class="n">of</span> <span class="o">&lt;</span><span class="n">app</span><span class="o">:</span><span class="n">listSearchResult</span><span class="o">&gt;</span> <span class="n">tag</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>
<span class="nt">&lt;c:url</span> <span class="na">value=</span><span class="s">&quot;/action/project/list&quot;</span> <span class="na">var=</span><span class="s">&quot;uri&quot;</span> <span class="na">context=</span><span class="s">&quot;/&quot;</span><span class="nt">&gt;</span>
   <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Set</span> <span class="n">the</span> <span class="n">project</span> <span class="n">name</span> <span class="n">obtained</span> <span class="n">from</span> <span class="n">the</span> <span class="n">search</span> <span class="n">form</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>
   <span class="nt">&lt;c:param</span> <span class="na">name=</span><span class="s">&quot;searchForm.projectName&quot;</span> <span class="na">value=</span><span class="s">&quot;${searchForm.projectName}&quot;</span><span class="nt">/&gt;</span>
<span class="nt">&lt;/c:url&gt;</span>

<span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Pass</span> <span class="n">it</span> <span class="n">to</span> <span class="n">the</span> <span class="n">searchUri</span> <span class="n">attribute</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>
<span class="nt">&lt;app:listSearchResult</span> <span class="na">resultSetName=</span><span class="s">&quot;searchResult&quot;</span> <span class="na">searchUri=</span><span class="s">&quot;${uri}&quot;</span>

<span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Omit</span> <span class="n">other</span> <span class="n">attributes</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p><strong>What to do when search results are reduced when using paging</strong></p>
<p>This section describes what to do when the search results are reduced due to other user operations
while switching the search result page with each paging submit element.</p>
<p>This framework performs a search based on the specified page number and displays each paging screen element.
The following is an example of the paging operation when the number of search results is reduced.</p>
<p>As a prerequisite, the number of acquired search results (number displayed per page) is 20 results.</p>
<p>First, assume that a search is performed and the search results are 44 results. Below is the paging display after the third page is selected.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_PagingBefore.jpg"><img alt="../../_images/ListSearchResult_PagingBefore.jpg" src="../../_images/ListSearchResult_PagingBefore.jpg" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<p>Next, a description of the paging display and the display contents when &#8220;Previous&#8221; is selected with the number of search results reduced to 10 will be described.
Each paging screen element is displayed as a search result for the second page.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_PagingAfter.jpg"><img alt="../../_images/ListSearchResult_PagingAfter.jpg" src="../../_images/ListSearchResult_PagingAfter.jpg" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="21%" />
<col width="79%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Paging screen element</th>
<th class="head">Description of the contents displayed</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Current page number</td>
<td>Since the second page has been specified and the search results are 20 results or less, it becomes page 2/1 (2 of 1).</td>
</tr>
<tr class="row-odd"><td>First, Previous</td>
<td>Since there are currently 10 search results on the second page, it is possible to move to the previous page which is displayed as a link.</td>
</tr>
<tr class="row-even"><td>Next, Last</td>
<td>Since there are currently 10 search results on the second page, it is not possible to move to the next page which is displayed as a label</td>
</tr>
<tr class="row-odd"><td>Page number</td>
<td>The page number is not displayed since there are 10 search results and the total number of pages is 1.</td>
</tr>
</tbody>
</table>
<p>Since the current page number and the submit element correspond to each other, it is possible to move to the search results page
by selecting the submit element without it becoming inoperable.
(Of course, if you perform a search again from the search form, the search results will be from the first page.)</p>
<p>The paging display after selecting &#8220;Previous&#8221; is shown next. The correspondence between the current page number and the total number of pages returns to normal.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_PagingAfter2.jpg"><img alt="../../_images/ListSearchResult_PagingAfter2.jpg" src="../../_images/ListSearchResult_PagingAfter2.jpg" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
</div>
<div class="section" id="search-result">
<span id="listsearchresult-tableelement"></span><h3>Search result<a class="headerlink" href="#search-result" title="Permalink to this headline">¶</a></h3>
<p>The screen elements of the search result are shown below.
The search result consists of a header row that displays column headings, and a body row that displays row data.</p>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_TableFull.jpg"><img alt="../../_images/ListSearchResult_TableFull.jpg" src="../../_images/ListSearchResult_TableFull.jpg" /></a>
<p>The search results are always displayed when they are in the request scope.
When the search result is 0, only the header row is displayed.</p>
<p>The header row and body row are specified in the headerRowFragment attribute and bodyRowFragment attributes in the JSP fragment.
The JSP fragment in the body row is called and evaluated in the search result loop (c:forEach tag of JSTL).
Hence, the following attributes are provided to access the row data (var attribute of the c:forEach tag) and status (status attribute of the c:forEach tag)
in the JSP fragment of the body row.</p>
<table border="1" class="docutils">
<colgroup>
<col width="22%" />
<col width="78%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>varRowName</td>
<td>Variable name used when referring to row data (var attribute of the c:forEach tag) in the body row fragment.  <br />
Default is &#8220;row&#8221;.  <br /></td>
</tr>
<tr class="row-odd"><td>varStatusName</td>
<td><p class="first">Variable name used when referring to the status (status attribute of the c:forEach tag) in the body row fragment.  <br />
Default is &#8220;status&#8221;.</p>
<div class="last admonition tip">
<p class="first admonition-title">Tip</p>
<p>When accessing the status using the n:write tag, an error occurs and the value cannot be obtained
since the access method differs between the n:write tag and the EL expression.
This error can be avoided by using the n:set tag to access the status.An example of its use is shown below.</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;n:set</span> <span class="na">var=</span><span class="s">&quot;rowCount&quot;</span> <span class="na">value=</span><span class="s">&quot;${status.count}&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;n:write</span> <span class="na">name=</span><span class="s">&quot;rowCount&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
</td>
</tr>
<tr class="row-even"><td>varCountName</td>
<td>Variable name used when referring to the count property of the status (status attribute of the c:forEach tag).  <br />
Default is &#8220;count&#8221;.  <br /></td>
</tr>
<tr class="row-odd"><td>varRowCountName</td>
<td>Variable name used when referring to the search result count (start position of search result acquisition + status count).  <br />
Default is &#8220;rowCount&#8221;.</td>
</tr>
</tbody>
</table>
<p>In addition, the following attributes are provided in the body row that specify the class attribute for changing the background color of every other row.</p>
<table border="1" class="docutils">
<colgroup>
<col width="29%" />
<col width="71%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>varOddEvenName</td>
<td>Variable name used when referring to the class attribute of the body row.  <br />
This variable name is used to change the value of the class attribute every other row.  <br />
Default is &#8220;oddEvenCss&#8221;.  <br /></td>
</tr>
<tr class="row-odd"><td>oddValue</td>
<td>The class attribute to use for odd lines of body.  <br />
Default is &#8220;nablarch_odd&#8221;.  <br /></td>
</tr>
<tr class="row-even"><td>evenValue</td>
<td>The class attribute to use for even lines of body.  <br />
Default is &#8220;nablarch_even&#8221;.</td>
</tr>
</tbody>
</table>
<p>An example of project search specifications is shown below. The tag file prefix should be app.</p>
<div class="highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;app:listSearchResult</span> <span class="na">resultSetName=</span><span class="s">&quot;searchResult&quot;</span><span class="nt">&gt;</span>

   <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">JSP</span> <span class="n">fragment</span> <span class="n">specification</span> <span class="k">for</span> <span class="n">header</span> <span class="n">line</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>
   <span class="nt">&lt;jsp:attribute</span> <span class="na">name=</span><span class="s">&quot;headerRowFragment&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;tr&gt;</span>
           <span class="nt">&lt;th&gt;</span>Project id<span class="nt">&lt;/th&gt;</span>
           <span class="nt">&lt;th&gt;</span>Project name<span class="nt">&lt;/th&gt;</span>
           <span class="nt">&lt;th&gt;</span>Project type<span class="nt">&lt;/th&gt;</span>
           <span class="nt">&lt;th&gt;</span>Start date<span class="nt">&lt;/th&gt;</span>
           <span class="nt">&lt;th&gt;</span>End date<span class="nt">&lt;/th&gt;</span>
       <span class="nt">&lt;/tr&gt;</span>
   <span class="nt">&lt;/jsp:attribute&gt;</span>

   <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Body</span> <span class="n">line</span> <span class="n">JSP</span> <span class="n">fragment</span> <span class="n">specification</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>
   <span class="nt">&lt;jsp:attribute</span> <span class="na">name=</span><span class="s">&quot;bodyRowFragment&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;tr</span> <span class="na">class=</span><span class="s">&quot;info&quot;</span><span class="nt">&gt;</span>
           <span class="nt">&lt;td&gt;</span>
               <span class="k">&lt;%-</span><span class="o">-</span> <span class="n">Access</span> <span class="n">the</span> <span class="n">row</span> <span class="n">data</span> <span class="n">using</span> <span class="n">the</span> <span class="k">default</span> <span class="n">variable</span> <span class="n">name</span> <span class="s">&quot;row&quot;</span><span class="o">.</span> <span class="o">--</span><span class="k">%&gt;</span>
               <span class="nt">&lt;n:a</span> <span class="na">href=</span><span class="s">&quot;/action/project/show/${row.projectId}&quot;</span><span class="nt">&gt;</span>
                   <span class="nt">&lt;n:write</span> <span class="na">name=</span><span class="s">&quot;row.projectId&quot;</span><span class="nt">/&gt;</span>
               <span class="nt">&lt;/n:a&gt;</span>
           <span class="nt">&lt;/td&gt;</span>
           <span class="nt">&lt;td&gt;</span>
               <span class="nt">&lt;n:write</span> <span class="na">name=</span><span class="s">&quot;row.projectName&quot;</span> <span class="nt">/&gt;</span>
           <span class="nt">&lt;/td&gt;</span>
           <span class="nt">&lt;td&gt;</span>
               <span class="nt">&lt;c:forEach</span> <span class="na">var=</span><span class="s">&quot;projectType&quot;</span> <span class="na">items=</span><span class="s">&quot;</span><span class="k">&lt;%=</span> <span class="n">ProjectType</span><span class="o">.</span><span class="na">values</span><span class="o">()</span> <span class="k">%&gt;</span><span class="s">&quot;</span><span class="nt">&gt;</span>
                   <span class="nt">&lt;c:if</span> <span class="na">test=</span><span class="s">&quot;${projectType.code == row.projectType}&quot;</span><span class="nt">&gt;</span>
                       <span class="nt">&lt;n:write</span> <span class="na">name=</span><span class="s">&quot;projectType.label&quot;</span> <span class="nt">/&gt;</span>
                   <span class="nt">&lt;/c:if&gt;</span>
               <span class="nt">&lt;/c:forEach&gt;</span>
           <span class="nt">&lt;/td&gt;</span>
           <span class="nt">&lt;td&gt;</span>
               <span class="nt">&lt;n:write</span> <span class="na">value=</span><span class="s">&quot;${n:formatByDefault(&#39;dateTime&#39;, row.projectStartDate)}&quot;</span> <span class="nt">/&gt;</span>
           <span class="nt">&lt;/td&gt;</span>
           <span class="nt">&lt;td&gt;</span>
               <span class="nt">&lt;n:write</span> <span class="na">value=</span><span class="s">&quot;${n:formatByDefault(&#39;dateTime&#39;, row.projectEndDate)}&quot;</span> <span class="nt">/&gt;</span>
           <span class="nt">&lt;/td&gt;</span>
       <span class="nt">&lt;/tr&gt;</span>
   <span class="nt">&lt;/jsp:attribute&gt;</span>
<span class="nt">&lt;/app:listSearchResult&gt;</span>
</pre></div>
</div>
<p>The search results after the above specifications are shown below.</p>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_TableStatus.jpg"><img alt="../../_images/ListSearchResult_TableStatus.jpg" src="../../_images/ListSearchResult_TableStatus.jpg" /></a>
</div>
</div>
<div class="section" id="how-to-import-a-sample-implementation-tag-file-into-the-business-application">
<span id="listsearchresult-customize"></span><h2>How to import a sample implementation (tag file) into the business application<a class="headerlink" href="#how-to-import-a-sample-implementation-tag-file-into-the-business-application" title="Permalink to this headline">¶</a></h2>
<p>Place the listSearchResult package in the business application as follows.</p>
<blockquote>
<div><dl class="docutils">
<dt>Copy from</dt>
<dd><em>META-INF/tags/</em><strong>listSearchResult</strong></dd>
<dt>Copy to</dt>
<dd>/WEB-INF/tags directory of the business application</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="tag-reference">
<span id="listsearchresult-tagreference"></span><h2>Tag Reference<a class="headerlink" href="#tag-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<span id="id2"></span><h3>listSearchResult tag<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>The listSearchResult tag displays a list of search results.
The attributes for each screen element are shown below.</p>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_PagingTableFull.jpg"><img alt="../../_images/ListSearchResult_PagingTableFull.jpg" src="../../_images/ListSearchResult_PagingTableFull.jpg" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="23%" />
<col width="77%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="2">Overall</td>
</tr>
<tr class="row-odd"><td>listSearchResultWrapperCss</td>
<td>Class attribute of the div tag that wraps the entire table with paging (number of search results, paging, search results). <br />
Default is &#8220;nablarch_listSearchResultWrapper&#8221;.</td>
</tr>
<tr class="row-even"><td>listSearchInfoName</td>
<td>Name used to acquire search form from the Request scope. <br />
Search forms hold page numbers for search criteria and paging.
Do not specify when displaying only a list such as batch deletion confirmation screen.</td>
</tr>
<tr class="row-odd"><td colspan="2">Search result list</td>
</tr>
<tr class="row-even"><td>useResultCount</td>
<td>Whether to display the number of search results.  <br />
Default is true.</td>
</tr>
<tr class="row-odd"><td>resultCountCss</td>
<td>Class attribute of the div tag that wraps the number of search results.  <br />
Default is &#8220;nablarch_resultCount&#8221;.</td>
</tr>
<tr class="row-even"><td>resultCountFragment</td>
<td>JSP fragment that outputs the number of search results.  <br />
Default is &#8220;search results &lt;resultCount property of pagination&gt; record&#8221;.</td>
</tr>
<tr class="row-odd"><td colspan="2">Paging</td>
</tr>
<tr class="row-even"><td>usePaging</td>
<td>Whether to display paging.  <br />
Default is true.</td>
</tr>
<tr class="row-odd"><td>pagingPosition</td>
<td>The display position of paging. <br />
Specify one of the following. <br />
top(top only)  <br />
bottom(bottom only)  <br />
both(both)  <br />
none(no display)  <br />
Default is top.</td>
</tr>
<tr class="row-even"><td>pagingCss</td>
<td>Class attribute of the div tag that wraps the entire paging submit elements (previous, next, etc.).   <br />
Default is &#8220;nablarch_paging&#8221;</td>
</tr>
<tr class="row-odd"><td>searchUri</td>
<td>URI to use for the paging submit element.  <br />
Must be specified when paging is displayed.</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_PagingTableFull.jpg"><img alt="../../_images/ListSearchResult_PagingTableFull.jpg" src="../../_images/ListSearchResult_PagingTableFull.jpg" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="20%" />
<col width="80%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="2">Current page number</td>
</tr>
<tr class="row-odd"><td>useCurrentPageNumber</td>
<td>Whether to use the current page number.  <br />
Default is true.</td>
</tr>
<tr class="row-even"><td>currentPageNumberCss</td>
<td>Class attribute of the div tag that wraps the current page number.  <br />
Default is &#8220;nablarch_currentPageNumber&#8221;.</td>
</tr>
<tr class="row-odd"><td>currentPageNumberFragment</td>
<td>JSP fragment that outputs the current page number.  <br />
Default is &#8220;[&lt;currentPageNumber property of pagination&gt;/&lt;pageCount property of pagination&gt;page]&#8221;.</td>
</tr>
<tr class="row-even"><td colspan="2">First</td>
</tr>
<tr class="row-odd"><td>useFirstSubmit</td>
<td>Whether to use the submit to move to the first page.  <br />
Default is false.</td>
</tr>
<tr class="row-even"><td>firstSubmitCss</td>
<td>Class attribute of the div tag that wraps the submit for moving to the first page.  <br />
Default is &#8220;nablarch_firstSubmit&#8221;.</td>
</tr>
<tr class="row-odd"><td>firstSubmitLabel</td>
<td>Label used by the submit for moving to the first page.  <br />
Default is &#8220;First&#8221;.</td>
</tr>
<tr class="row-even"><td>firstSubmitName</td>
<td>Name attribute of the tag used by the submit for moving to the first page. <br />
Default is &#8220;firstSubmit&#8221;. <br />
Outputs by adding the suffix (upper side is &#8220;_top&#8221; and lower side is &#8220;_bottom&#8221;) indicating the display position of paging. <br />
For example, if the default and display position is upper, it will be &#8220;firstSubmit_top&#8221;.</td>
</tr>
<tr class="row-odd"><td colspan="2">Previous</td>
</tr>
<tr class="row-even"><td>usePrevSubmit</td>
<td>Whether to use the submit to move to the previous page.  <br />
Default is true.</td>
</tr>
<tr class="row-odd"><td>prevSubmitCss</td>
<td>Class attribute of the div tag that wraps the submit for moving to the previous page.  <br />
Default is &#8220;nablarch_prevSubmit&#8221;.</td>
</tr>
<tr class="row-even"><td>prevSubmitLabel</td>
<td>Label used by the submit for moving to the previous page.  <br />
Default is &#8220;Previous&#8221;.</td>
</tr>
<tr class="row-odd"><td>prevSubmitName</td>
<td>Name attribute of the tag used by the submit for moving to the previous page. <br />
Default is &#8220;prevSubmit&#8221;. <br />
Outputs by adding the suffix (upper side is &#8220;_top&#8221; and lower side is &#8220;_bottom&#8221;) indicating the display position of paging. <br />
For example, if the default and display position is upper, it will be &#8220;firstSubmit_top&#8221;.</td>
</tr>
<tr class="row-even"><td colspan="2">Page number (label is not specified since the page number is used as a label)</td>
</tr>
<tr class="row-odd"><td>usePageNumberSubmit</td>
<td>Whether to use the submit to moves to the page specified by the page number.  <br />
Default is false.</td>
</tr>
<tr class="row-even"><td>pageNumberSubmitCss</td>
<td>Class attribute of the div tag that wraps the submit for moving to the page specified by the page number.  <br />
Default is &#8220;nablarch_pageNumberSubmit&#8221;.</td>
</tr>
<tr class="row-odd"><td>pageNumberSubmitName</td>
<td>Name attribute of the tag used by the submit for moving to the page specified by the page number. <br />
Default is &#8220;pageNumberSubmit&#8221;. <br />
Outputs by adding the page number and suffix (upper side is &#8220;_top&#8221; and lower side is &#8220;_bottom&#8221;) indicating the display position of paging. <br />
For example, if the default and display position is upper and the page number is 3, it will be &#8221; pageNumberSubmit3_top&#8221;.</td>
</tr>
<tr class="row-even"><td colspan="2">Next</td>
</tr>
<tr class="row-odd"><td>useNextSubmit</td>
<td>Whether to use the submit to move to the next page.  <br />
Default is true.</td>
</tr>
<tr class="row-even"><td>nextSubmitCss</td>
<td>Class attribute of the div tag that wraps the submit for moving to the next page. <br />
Default is &#8220;nablarch_nextSubmit&#8221;.</td>
</tr>
<tr class="row-odd"><td>nextSubmitLabel</td>
<td>Label used by the submit for moving to the next page. <br />
Default is &#8220;Next&#8221;.</td>
</tr>
<tr class="row-even"><td>nextSubmitName</td>
<td>Name attribute of the tag used by the submit for moving to the next page. <br />
Default is &#8220;nextSubmit&#8221;. <br />
Outputs by adding the suffix (upper side is &#8220;_top&#8221; and lower side is &#8220;_bottom&#8221;) indicating the display position of paging. <br />
For example, if the default and display position is upper, it will be &#8220;nextSubmit_top&#8221;.</td>
</tr>
<tr class="row-odd"><td colspan="2">List</td>
</tr>
<tr class="row-even"><td>useLastSubmit</td>
<td>Whether to use the submit to move to the last page.  <br />
Default is false.</td>
</tr>
<tr class="row-odd"><td>lastSubmitCss</td>
<td>Class attribute of the div tag that wraps the submit for moving to the last page. <br />
Default is &#8220;nablarch_lastSubmit&#8221;.</td>
</tr>
<tr class="row-even"><td>lastSubmitLabel</td>
<td>Label used by the submit for moving to the last page. <br />
Default is &#8220;List&#8221;.</td>
</tr>
<tr class="row-odd"><td>lastSubmitName</td>
<td>Name attribute of the tag used by the submit for moving to the last page. <br />
Default is &#8220;lastSubmit&#8221;.  <br />
Outputs by adding the suffix (upper side is &#8220;_top&#8221; and lower side is &#8220;_bottom&#8221;) indicating the display position of paging. <br />
For example, if the default and display position is upper, it will be &#8220;lastSubmit_top&#8221;.</td>
</tr>
</tbody>
</table>
<div class="line-block">
<div class="line"><br /></div>
</div>
<a class="reference internal image-reference" href="../../_images/ListSearchResult_PagingTableFull.jpg"><img alt="../../_images/ListSearchResult_PagingTableFull.jpg" src="../../_images/ListSearchResult_PagingTableFull.jpg" /></a>
<div class="line-block">
<div class="line"><br /></div>
</div>
<table border="1" class="docutils">
<colgroup>
<col width="13%" />
<col width="87%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Attribute</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td colspan="2">Search result</td>
</tr>
<tr class="row-odd"><td>showResult</td>
<td>Whether to display search results. <br />
Default is true.</td>
</tr>
<tr class="row-even"><td>resultSetName(required)</td>
<td>The name to use when fetching <a class="reference external" href="https://nablarch.github.io/docs/5u24/javadoc/nablarch/common/dao/EntityList.html" title="nablarch.common.dao.EntityList">Universal DAO search results</a> from the request scope. The search results also include the number of pages for pagination and the number of items that match the search conditions.</td>
</tr>
<tr class="row-odd"><td>resultSetCss</td>
<td>Class attribute of the search result table. <br />
Default is &#8220;nablarch_resultSet&#8221;.</td>
</tr>
<tr class="row-even"><td>headerRowFragment</td>
<td>JSP fragment of the header row.</td>
</tr>
<tr class="row-odd"><td>bodyRowFragment</td>
<td>JSP fragment for the body row.</td>
</tr>
<tr class="row-even"><td>varRowName</td>
<td>Variable name used when referring to row data (var attribute of the c:forEach tag) in the body row fragment. <br />
Default is&#8221;row&#8221;.</td>
</tr>
<tr class="row-odd"><td>varStatusName</td>
<td><p class="first">Variable name used when referring to the status (status attribute of the c:forEach tag) in the body row fragment.  <br />
Default is &#8220;status&#8221;.</p>
<div class="last admonition tip">
<p class="first admonition-title">Tip</p>
<p>When accessing the status using the n:write tag, an error occurs and the value cannot be obtained
since the access method differs between the n:write tag and the EL expression.
This error can be avoided by using the n:set tag to access the status.An example of its use is shown below.</p>
<div class="last highlight-jsp"><div class="highlight"><pre><span></span><span class="nt">&lt;n:set</span> <span class="na">var=</span><span class="s">&quot;rowCount&quot;</span> <span class="na">value=</span><span class="s">&quot;${status.count}&quot;</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;n:write</span> <span class="na">name=</span><span class="s">&quot;rowCount&quot;</span> <span class="nt">/&gt;</span>
</pre></div>
</div>
</div>
</td>
</tr>
<tr class="row-even"><td>varCountName</td>
<td>Variable name used when referring to the count property of the status (status attribute of the c:forEach tag).  <br />
Default is &#8220;count&#8221;.</td>
</tr>
<tr class="row-odd"><td>varRowCountName</td>
<td>Variable name used when referring to the search result count (start position of search result acquisition + status count).  <br />
Default is &#8220;rowCount&#8221;.</td>
</tr>
<tr class="row-even"><td>varOddEvenName</td>
<td>Variable name used when referring to the class attribute of the body row. <br />
This variable name is used to change the value of the class attribute every other row. <br />
Default is &#8220;oddEvenCss&#8221;.</td>
</tr>
<tr class="row-odd"><td>oddValue</td>
<td>The class attribute to use for odd lines of body. <br />
Default is &#8220;nablarch_odd&#8221;.</td>
</tr>
<tr class="row-even"><td>evenValue</td>
<td>The class attribute to use for even lines of body.  <br />
Default is &#8220;nablarch_even&#8221;.</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>

    <hr/>

    <div role="contentinfo">
        <p>
            &copy; Copyright 2010-2024, TIS Inc.
        </p>
    </div>
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'5u24',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: ''
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="../../_static/custom.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>